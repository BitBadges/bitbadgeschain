syntax = "proto3";
package bitbadges.bitbadgeschain.badges;

import "gogoproto/gogo.proto";
import "badges/balances.proto";

// this line is used by starport scaffolding # proto/tx/import

option go_package = "github.com/bitbadges/bitbadgeschain/x/badges/types";

message AddressMappingConditions {
  repeated MinMaxBalance mustOwnBadges = 1;
  repeated MinMaxBalance mustNotOwnBadges = 2;

  repeated string mustBeManager = 3 [(gogoproto.nullable) = false, (gogoproto.customtype) = "Uint"];
  repeated string mustNotBeManager = 4 [(gogoproto.nullable) = false, (gogoproto.customtype) = "Uint"];

  repeated string mustBeInMapping = 5;
  repeated string mustNotBeInMapping = 6;
}

message AddressMappingFilters {
  string mustSatisfyMinX = 1 [(gogoproto.nullable) = false, (gogoproto.customtype) = "Uint"];
  repeated AddressMappingConditions conditions = 2;
}

message AddressMapping {
  string mappingId = 1;

  repeated string addresses = 2;
  bool includeOnlySpecified = 3;

  string uri = 4;
  string customData = 5;

  //Must satisfy all these filters
  repeated AddressMappingFilters filters = 6;
}
