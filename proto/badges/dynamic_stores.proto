syntax = "proto3";
package badges;

import "gogoproto/gogo.proto";

option go_package = "github.com/bitbadges/bitbadgeschain/x/badges/types";

/*
  A DynamicStore is a flexible storage object that can store arbitrary data.
  It is identified by a unique ID assigned by the blockchain, which is a uint64 that increments.
  Dynamic stores are created by users and can only be updated or deleted by their creator.
  They provide a way to store custom data on-chain with proper access control.
*/
message DynamicStore {
  // The unique identifier for this dynamic store. This is assigned by the blockchain.
  string storeId = 1 [(gogoproto.customtype) = "Uint", (gogoproto.nullable) = false];
  // The address of the creator of this dynamic store.
  string createdBy = 2;
  // The default value for uninitialized addresses (true/false).
  bool defaultValue = 3;
  // Global kill switch state (defaults to true on creation, can be toggled via UpdateDynamicStore).
  // When false, all approvals using this store via DynamicStoreChallenge will fail immediately.
  bool globalEnabled = 4;
}

/*
  A DynamicStoreValue stores a boolean value for a specific address in a dynamic store.
  This allows the creator to set true/false values per address that can be checked during approval.
*/
message DynamicStoreValue {
  // The unique identifier for this dynamic store.
  string storeId = 1 [(gogoproto.customtype) = "Uint", (gogoproto.nullable) = false];
  // The address for which this value is stored.
  string address = 2;
  // The boolean value (true/false).
  bool value = 3;
} 