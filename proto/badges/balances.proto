syntax = "proto3";
package trevormil.bitbadgeschain.badges;

import "gogoproto/gogo.proto";
import "badges/params.proto";
import "badges/badges.proto";
import "badges/ranges.proto";
// this line is used by starport scaffolding # genesis/proto/import

option go_package = "github.com/trevormil/bitbadgeschain/x/badges/types";

//indexed by badgeid-subassetid-uniqueaccountnumber (26 bytes)
message BadgeBalanceInfo {
    repeated RangesToAmounts balanceAmounts = 2;
    uint64 pending_nonce = 3;
    repeated PendingTransfer pending = 4; //IDs will be sorted in order of pending_nonce
    repeated Approval approvals = 5;
}

message Approval {
    uint64 address = 1;
    uint64 expirationTime = 2;
    repeated RangesToAmounts approvalAmounts = 3;
}

message PendingTransfer {
    NumberRange subbadgeRange = 1;
    uint64 this_pending_nonce = 2;
    uint64 other_pending_nonce = 3;
    uint64 amount = 4;
    bool send_request = 5; //vs. receive request
    uint64 to = 6;
    uint64 from = 7;
    uint64 approved_by = 9;
    bool markedAsApproved = 10;
    uint64 expiration_time = 11;
}
