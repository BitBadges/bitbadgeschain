syntax = "proto3";
package trevormil.bitbadgeschain.badges;

import "gogoproto/gogo.proto";
import "badges/params.proto";
import "badges/badges.proto";
// this line is used by starport scaffolding # genesis/proto/import

option go_package = "github.com/trevormil/bitbadgeschain/x/badges/types";

//indexed by badgeid-subassetid-uniqueaccountnumber (26 bytes)
message BadgeBalanceInfo {
    uint64 balance = 1;
    uint64 pending_nonce = 2;
    repeated PendingTransfer pending = 3; //IDs will be sorted in order of pending_nonce
    repeated Approval approvals = 4; //TODO: add an approve all number in there 
    //TODO: add user flags (hidden on profile, pinned, etc)
}

message Approval {
    uint64 address_num = 1;
    uint64 amount = 2;
}

//Pending transfers will not be saved after accept / reject
message PendingTransfer {
    uint64 this_pending_nonce = 1;
    uint64 other_pending_nonce = 2;
    uint64 amount = 4;
    bool send_request = 5; //vs. receive request
    uint64 to = 6;
    uint64 from = 7;
    uint64 approved_by = 9;
}
