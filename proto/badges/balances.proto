syntax = "proto3";
package trevormil.bitbadgeschain.badges;

import "gogoproto/gogo.proto";
import "badges/params.proto";
import "badges/badges.proto";
import "badges/ranges.proto";
// this line is used by starport scaffolding # genesis/proto/import

option go_package = "github.com/trevormil/bitbadgeschain/x/badges/types";

//indexed by badgeid-subassetid-uniqueaccountnumber (26 bytes)
message UserBalanceInfo {
    repeated BalanceObject balanceAmounts = 2;
    uint64 pendingNonce = 3;
    repeated PendingTransfer pending = 4; //IDs will be sorted in order of pending_nonce
    repeated Approval approvals = 5;
}

message Approval {
    uint64 address = 1;
    uint64 expirationTime = 2;
    repeated BalanceObject approvalAmounts = 3;
}

message PendingTransfer {
    IdRange subbadgeRange = 1;
    uint64 thisPendingNonce = 2;
    uint64 otherPendingNonce = 3;
    uint64 amount = 4;
    bool sent = 5;
    uint64 to = 6;
    uint64 from = 7;
    uint64 approvedBy = 9;
    bool markedAsAccepted = 10;
    uint64 expirationTime = 11;
}
