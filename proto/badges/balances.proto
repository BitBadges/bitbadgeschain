syntax = "proto3";
package trevormil.bitbadgeschain.badges;

import "gogoproto/gogo.proto";
import "badges/params.proto";
import "badges/badges.proto";
// this line is used by starport scaffolding # genesis/proto/import

option go_package = "github.com/trevormil/bitbadgeschain/x/badges/types";

//indexed by badgeid-subassetid-uniqueaccountnumber (26 bytes)
message BadgeBalanceInfo {
    uint64 balance = 1;
    uint64 pending_nonce = 2;
    repeated PendingTransfer pending = 3; //IDs will be sorted in order of pending_nonce
    repeated Approval approvals = 4;
}

message Approval {
    string address = 1;
    uint64 amount = 2;
}

//Pending transfers will not be saved after accept / reject
message PendingTransfer {
    string id = 1; //indexed by (this account's pending_nonce - other account's pending_nonce)
    uint64 amount = 2;
    bool send_request = 3; //vs. receive request
    string to = 4;
    string from = 5;
    string memo = 6;
}
